<!DOCTYPE html>
<html>

  <head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Docker 常用命令 - zhaolion&#39;s knowledge dropbox</title>
<meta name="description" content="下面是一些比较常用的 Docker 命令
镜像类基本命令 安装镜像
docker pull ${IMAGE}显示已经安装镜像的详细内容
docker images --no-trunc构建镜像
docker build --rm=true .删除指定镜像
docker rmi ${IMAGE_ID}删除未使用的镜像
docker rmi $(docker images --quiet --filter &amp;amp;quot;dangling=true&amp;amp;quot;) 删除所有没有标签的镜像
docker rmi $(docker images | grep “^” | awk “{print $3}”)删除所有的镜像
docker rmi $(docker images)构建自己的镜像
docker build -t &amp;lt;镜像名&amp;gt; &amp;lt;Dockerfile 路径&amp;gt;导出镜像
docker save docker.io/tomcat:7.0.77-jre7 &amp;gt;/root/mytomcat7.tar.gz导入镜像
docker load &amp;lt; /root/mytomcat7.tar.gz为自定义的镜像打上 tag
docker tag &amp;lt;image&amp;gt; &amp;lt;username&amp;gt;/&amp;lt;repository&amp;gt;:&amp;lt;tag&amp;gt;将自定义的镜像发布到仓库
docker push &amp;lt;username&amp;gt;/&amp;lt;repository&amp;gt;:&amp;lt;tag&amp;gt;查看某个镜像详情
docker inspect &amp;lt;镜像名称&amp;gt;容器类基本命令 查看容器
docker ps # 正在运行的容器docker ps -a # 所有的容器停止、启动、杀死一个容器"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://blog.zhaolion.dev/post/docker/basic.cmd/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="下面是一些比较常用的 Docker 命令
镜像类基本命令 安装镜像
docker pull ${IMAGE}显示已经安装镜像的详细内容
docker images --no-trunc构建镜像
docker build --rm=true .删除指定镜像
docker rmi ${IMAGE_ID}删除未使用的镜像
docker rmi $(docker images --quiet --filter &amp;amp;quot;dangling=true&amp;amp;quot;) 删除所有没有标签的镜像
docker rmi $(docker images | grep “^” | awk “{print $3}”)删除所有的镜像
docker rmi $(docker images)构建自己的镜像
docker build -t &amp;lt;镜像名&amp;gt; &amp;lt;Dockerfile 路径&amp;gt;导出镜像
docker save docker.io/tomcat:7.0.77-jre7 &amp;gt;/root/mytomcat7.tar.gz导入镜像
docker load &amp;lt; /root/mytomcat7.tar.gz为自定义的镜像打上 tag
docker tag &amp;lt;image&amp;gt; &amp;lt;username&amp;gt;/&amp;lt;repository&amp;gt;:&amp;lt;tag&amp;gt;将自定义的镜像发布到仓库
docker push &amp;lt;username&amp;gt;/&amp;lt;repository&amp;gt;:&amp;lt;tag&amp;gt;查看某个镜像详情
docker inspect &amp;lt;镜像名称&amp;gt;容器类基本命令 查看容器
docker ps # 正在运行的容器docker ps -a # 所有的容器停止、启动、杀死一个容器" />
<meta name="twitter:title" content="Docker 常用命令 - zhaolion&#39;s knowledge dropbox" />
<meta name="twitter:site" content="" />
<meta name="twitter:creator" content="" />


<meta property="og:type" content="article" />
<meta content="Docker 常用命令 - zhaolion&#39;s knowledge dropbox" property="og:title">
<meta content="下面是一些比较常用的 Docker 命令
镜像类基本命令 安装镜像
docker pull ${IMAGE}显示已经安装镜像的详细内容
docker images --no-trunc构建镜像
docker build --rm=true .删除指定镜像
docker rmi ${IMAGE_ID}删除未使用的镜像
docker rmi $(docker images --quiet --filter &amp;amp;quot;dangling=true&amp;amp;quot;) 删除所有没有标签的镜像
docker rmi $(docker images | grep “^” | awk “{print $3}”)删除所有的镜像
docker rmi $(docker images)构建自己的镜像
docker build -t &amp;lt;镜像名&amp;gt; &amp;lt;Dockerfile 路径&amp;gt;导出镜像
docker save docker.io/tomcat:7.0.77-jre7 &amp;gt;/root/mytomcat7.tar.gz导入镜像
docker load &amp;lt; /root/mytomcat7.tar.gz为自定义的镜像打上 tag
docker tag &amp;lt;image&amp;gt; &amp;lt;username&amp;gt;/&amp;lt;repository&amp;gt;:&amp;lt;tag&amp;gt;将自定义的镜像发布到仓库
docker push &amp;lt;username&amp;gt;/&amp;lt;repository&amp;gt;:&amp;lt;tag&amp;gt;查看某个镜像详情
docker inspect &amp;lt;镜像名称&amp;gt;容器类基本命令 查看容器
docker ps # 正在运行的容器docker ps -a # 所有的容器停止、启动、杀死一个容器" property="og:description">
<meta property="og:url" content="https://blog.zhaolion.dev/post/docker/basic.cmd/" />
<meta property="og:site_name" content="zhaolion&#39;s knowledge dropbox" />
<meta property="article:section" content="Docker" />
<meta property="article:published_time" content="2019-01-15 23:28:27 &#43;0800 CST" />





<script type="application/ld+json">
{ 
    "@context": "http://schema.org", 
    "@type": "BlogPosting",
    "headline": "Docker 常用命令",
    "genre": "Docker",  
    "url": "https:\/\/blog.zhaolion.dev\/post\/docker\/basic.cmd\/",
    "datePublished": "2019-01-15 23:28:27 \u002b0800 CST",
    "description": "下面是一些比较常用的 Docker 命令\n镜像类基本命令 安装镜像\ndocker pull ${IMAGE}显示已经安装镜像的详细内容\ndocker images --no-trunc构建镜像\ndocker build --rm=true .删除指定镜像\ndocker rmi ${IMAGE_ID}删除未使用的镜像\ndocker rmi $(docker images --quiet --filter \u0026amp;quot;dangling=true\u0026amp;quot;) 删除所有没有标签的镜像\ndocker rmi $(docker images | grep “^” | awk “{print $3}”)删除所有的镜像\ndocker rmi $(docker images)构建自己的镜像\ndocker build -t \u0026lt;镜像名\u0026gt; \u0026lt;Dockerfile 路径\u0026gt;导出镜像\ndocker save docker.io\/tomcat:7.0.77-jre7 \u0026gt;\/root\/mytomcat7.tar.gz导入镜像\ndocker load \u0026lt; \/root\/mytomcat7.tar.gz为自定义的镜像打上 tag\ndocker tag \u0026lt;image\u0026gt; \u0026lt;username\u0026gt;\/\u0026lt;repository\u0026gt;:\u0026lt;tag\u0026gt;将自定义的镜像发布到仓库\ndocker push \u0026lt;username\u0026gt;\/\u0026lt;repository\u0026gt;:\u0026lt;tag\u0026gt;查看某个镜像详情\ndocker inspect \u0026lt;镜像名称\u0026gt;容器类基本命令 查看容器\ndocker ps # 正在运行的容器docker ps -a # 所有的容器停止、启动、杀死一个容器",
    "author": {
        "@type": "Person",
        "name": "zhaolion"
    }
 }
</script>




<link rel="stylesheet" href="/sass/main.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

</head>


  <body>

    <header class="site-header">
<nav class="navbar navbar-default">
  <div class="container-fluid">
    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://blog.zhaolion.dev">zhaolion&#39;s knowledge dropbox</a>
    </div>

    
    <div class="collapse navbar-collapse " id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
        <li><a href="https://blog.zhaolion.devpages/about/">About</a></li>
        <li><a href="https://blog.zhaolion.devpages/contact/">Contact</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Download <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a target="_blank" href="https://github.com/bul-ikana/hugo-cards">Project</a></li>
            <li><a href="https://github.com/bul-ikana/hugo-cards.git">Download</a></li>
            <li role="separator" class="divider"></li>
            <li><a target="_blank" href="https://themes.gohugo.io/">More Themes</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
</header>


    <div class="container">
      <div class="wrapper">
        
<div class="row">
<div class="col-md-8">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

          <header class="post-header">
            <h1 class="post-title" itemprop="name headline">Docker 常用命令</h1>
            <p class="post-meta"><time datetime='2019-01-15T23:28:27&#43;08:00' itemprop="datePublished">January 15, 2019</time></p>
                 
          </header>

          <div class="post-content" itemprop="articleBody">
            <p>下面是一些比较常用的 Docker 命令</p>
<h2 id="镜像类基本命令">镜像类基本命令</h2>
<p>安装镜像</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker pull <span style="color:#e6db74">${</span>IMAGE<span style="color:#e6db74">}</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>显示已经安装镜像的详细内容</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker images --no-trunc<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>构建镜像</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker build --rm<span style="color:#f92672">=</span>true .<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>删除指定镜像</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker rmi <span style="color:#e6db74">${</span>IMAGE_ID<span style="color:#e6db74">}</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>删除未使用的镜像</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker rmi <span style="color:#66d9ef">$(</span>docker images --quiet --filter &amp;quot;dangling<span style="color:#f92672">=</span>true&amp;quot;<span style="color:#66d9ef">)</span> <span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>删除所有没有标签的镜像</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker rmi <span style="color:#66d9ef">$(</span>docker images | grep “^” | awk “<span style="color:#f92672">{</span>print $3<span style="color:#f92672">}</span>”<span style="color:#66d9ef">)</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>删除所有的镜像</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker rmi <span style="color:#66d9ef">$(</span>docker images<span style="color:#66d9ef">)</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>构建自己的镜像</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker build -t &lt;镜像名&gt; &lt;Dockerfile 路径&gt;<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>导出镜像</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker save docker.io/tomcat:7.0.77-jre7 &gt;/root/mytomcat7.tar.gz<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>导入镜像</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker load &lt; /root/mytomcat7.tar.gz<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>为自定义的镜像打上 tag</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker tag &lt;image&gt; &lt;username&gt;/&lt;repository&gt;:&lt;tag&gt;<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>将自定义的镜像发布到仓库</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker push &lt;username&gt;/&lt;repository&gt;:&lt;tag&gt;<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>查看某个镜像详情</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker inspect &lt;镜像名称&gt;<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><h2 id="容器类基本命令">容器类基本命令</h2>
<p>查看容器</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker ps    <span style="color:#75715e"># 正在运行的容器</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>docker ps -a <span style="color:#75715e"># 所有的容器</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>停止、启动、杀死一个容器</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker stop &lt;容器名 or ID&gt;<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>docker start &lt;容器名 or ID&gt;<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>docker kill &lt;容器名 or ID&gt;<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>交互方式启动</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker run -it ubuntu:latest /bin/bash<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>守护进程方式启动容器</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker run -d ubuntu:latest<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>守护进程方式启动容器并且进行端口映射</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker run -d -p 9999:8080 docker.io/tomcat:latest<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>查看容器的root用户密码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker logs &lt;容器名orID&gt; 2&gt;&amp;<span style="color:#ae81ff">1</span> | grep <span style="color:#e6db74">&#39;^User: &#39;</span> | tail -n1<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>查看容器日志</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker logs -f &lt;容器名orID&gt;<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>进入容器</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker attach <span style="color:#e6db74">${</span>CID<span style="color:#e6db74">}</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>已有容器中运行命令/启动交互进程</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker exec -it <span style="color:#e6db74">${</span>CID<span style="color:#e6db74">}</span> &lt;执行命令&gt;<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>使用正则表达式删除容器</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker ps -a | grep wildfly | awk <span style="color:#e6db74">&#39;{print $1}&#39;</span> | xargs docker rm -f<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>删除所有退出的容器</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker rm -f <span style="color:#66d9ef">$(</span>docker ps -a | grep Exit | awk <span style="color:#e6db74">&#39;{ print $1 }&#39;</span><span style="color:#66d9ef">)</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>删除所有的容器</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker rm <span style="color:#66d9ef">$(</span>docker ps -aq<span style="color:#66d9ef">)</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>显示指定容器的IP</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker inspect --format <span style="color:#e6db74">&#39;{{ .NetworkSettings.IPAddress }}&#39;</span> <span style="color:#e6db74">${</span>CID<span style="color:#e6db74">}</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>通过正则表达式查找容器的镜像ID</p>
<pre tabindex="0"><code>docker ps | grep wildfly | awk &#39;{print $1}&#39;
</code></pre><h2 id="用户和组">用户和组</h2>
<p>登录</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-docker" data-lang="docker"><span style="display:flex;"><span>docker login<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div>
          </div>

    </article>
    <div class="row">
        
    </div>
    
    <div class="row">
            <ul class="pager">
             
                    <li><a class="next" href="https://blog.zhaolion.dev/post/git/basic/">&laquo; Git 常用命令</a></li>
              
              
                <li><a class="previous" href="https://blog.zhaolion.dev/post/life/2018.summary/">程序员 2018 年度总结 &raquo;</a></li>
              
            </ul>
    </div>
</div>


<div class="col-md-4 mt20">
        <div class="post-img">
            
            <img width="600" src="https://blog.zhaolion.devimages/" alt="webjeda">
            
        </div>
            
        
        <div class="mt10 recent">
            <h2>Recent articles</h2>        
             <ul>
                
              </ul>
        </div>
        
        <br>

</div>

</div>




      </div>
    </div>

    <footer>
    <div class="container">
        <div class="row p20">
            

            <div class="col-md-4 text-center mt25" >
                
            </div>
            <div class="col-md-4 text-center mt25">
               
               
               
               
               
            </div>

        </div> 
    </div>
</footer>
    

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script src="https://blog.zhaolion.dev/js/bootstrap.min.js"></script>
  
  </body>

</html>